{"meta":{"title":"sbwit的博客","subtitle":"干就完了","description":"","author":"sbwit","url":"https://www.sbwit.com","root":"/"},"pages":[{"title":"friends","date":"2021-04-14T06:06:32.000Z","updated":"2021-04-16T03:38:51.647Z","comments":true,"path":"friends/index.html","permalink":"https://www.sbwit.com/friends/index.html","excerpt":"","text":""},{"title":"categories","date":"2021-04-14T06:04:47.000Z","updated":"2021-04-16T03:38:51.646Z","comments":true,"path":"categories/index.html","permalink":"https://www.sbwit.com/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2021-04-14T06:05:35.000Z","updated":"2021-04-16T03:38:51.649Z","comments":true,"path":"tags/index.html","permalink":"https://www.sbwit.com/tags/index.html","excerpt":"","text":""},{"title":"about","date":"2021-04-14T06:06:10.000Z","updated":"2021-04-16T03:38:51.644Z","comments":true,"path":"about/index.html","permalink":"https://www.sbwit.com/about/index.html","excerpt":"","text":""}],"posts":[{"title":"测试是不是自动发布","slug":"yuque/测试是不是自动发布","date":"2021-04-15T15:44:17.000Z","updated":"2021-04-16T03:40:54.372Z","comments":true,"path":"2021/04/15/yuque/测试是不是自动发布/","link":"","permalink":"https://www.sbwit.com/2021/04/15/yuque/%E6%B5%8B%E8%AF%95%E6%98%AF%E4%B8%8D%E6%98%AF%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83/","excerpt":"","text":"图片测试 asdfasdfasdfasdfasdfasdf123123123123123123123123123asdfasdfasdfasdfasdfasdfasefefefefefefefefefdfasdfasdfefefefefefefefefefwefsadfawefwefsefads 阿斯顿发大地方 打发第三方 阿发达 打发第三方 阿发达 打发第三方 阿发达 打发第三方 阿发达 打发第三方 阿发达fasdfafasdfasdfsadfsadfasdffdsadsfasdfadsfsdfa df 测试自动发布功能","categories":[],"tags":[]},{"title":"DEMO","slug":"yuque/DEMO","date":"2021-04-13T14:18:35.000Z","updated":"2021-04-16T03:40:54.443Z","comments":true,"path":"2021/04/13/yuque/DEMO/","link":"","permalink":"https://www.sbwit.com/2021/04/13/yuque/DEMO/","excerpt":"","text":"gegegegegegegge语雀帖子的配置 12345678910111213141516171819202122232425262728293031323334353637383940414243444546name: Blog CI/CDon: [push, repository_dispatch]jobs: blog-cicd: name: Hexo blog build &amp; deploy runs-on: ubuntu-latest env: TZ: Asia/Shanghai steps: - name: Checkout codes uses: actions/checkout@v2 - name: Setup node uses: actions/setup-node@v1 with: node-version: &#x27;12.x&#x27; - name: Cache node modules uses: actions/cache@v1 with: path: ~/.npm key: $&#123;&#123; runner.os &#125;&#125;-node-$&#123;&#123; hashFiles(&#x27;**/package-lock.json&#x27;) &#125;&#125; - name: Install dependencies run: | npm install hexo-cli -g npm install yuque-hexo -g npm install yuque-hexo sync - name: Generate files run: hexo generate - name: Deploy blog evn: Github_Pages: github.com/sbwit/sbwit.github.io Github_Token: $&#123;&#123; secrets.TOKEN_GITHUBAPI &#125;&#125; run: | git clone &quot;https://$&#123;Github_Pages&#125;&quot; deploy_git mv ./deploy_git/.git ./public/ cd ./public git config user.name &quot;sbwit&quot; git config user.email &quot;17740857130@qq.com&quot; git add . git commit -m &quot;GitHub Actions Auto Builder at $(date +&#x27;%Y-%m-%d %H:%M:%S&#x27;)&quot; git push --force --quiet &quot;https://$&#123;Github_Token&#125;@$&#123;Github_Pages&#125;&quot; master:master 12345678910111213# -*- coding: utf8 -*-import requestsdef main_handler(event, context): r = requests.post(&quot;https://api.github.com/repos/sbwit/sbwit.hexo/dispatches&quot;, json = &#123;&quot;event_type&quot;: &quot;start&quot;&#125;, headers = &#123;&quot;User-Agent&quot;:&#x27;curl/7.52.1&#x27;, &#x27;Content-Type&#x27;: &#x27;application/json&#x27;, &#x27;Accept&#x27;: &#x27;application/vnd.github.everest-preview+json&#x27;, &#x27;Authorization&#x27;: &#x27;token GITHUB_TOKEN(自己的)&#x27;&#125;) if r.status_code == 204: return &quot;This&#x27;s OK!&quot; else: return r.status_code 官方的配置 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657# workflow namename: CI Hexo# master branch on push, auto runon: push: branches: - masterjobs: Deploy-Pages: name: Deploy Hexo Public To Pages runs-on: ubuntu-latest steps: # check it to your workflow can access it # from: https://github.com/actions/checkout - name: Checkout Repository master branch uses: actions/checkout@master # from: https://github.com/actions/setup-node - name: Setup Node.js 10.x uses: actions/setup-node@master with: node-version: &quot;12.14&quot; - name: Setup Git Infomation run: | git config --global user.name &#x27;sbwit&#x27; git config --global user.email &#x27;17740857130@163.com&#x27; - name: Get Latest Commit Message run: | git log --pretty=format:&quot;%s from Github Actions at `date +&quot;%Y-%m-%d %H:%M:%S&quot;`&quot; --date=short -n 1 &gt; commit-message.log - name: Setup Hexo Dependencies run: | npm install hexo-cli -g npm install - name: Generate public files run: | hexo clean hexo generate - name: Deploy To Github Pages env: Github_Pages: github.com/sbwit/sbwit.github.io Github_Token: $&#123;&#123; secrets.TOKEN_GITHUBAPI &#125;&#125; run: | git clone https://$&#123;Github_Pages&#125; .github_pages cd .github_pages git checkout master cd ../ mv .github_pages/.git/ ./public/ cd ./public/ git add . git commit -F ../commit-message.log git push --force --quiet &quot;https://$&#123;Github_Token&#125;@$&#123;Github_Pages&#125;&quot; master:master asdfasdfasdfasdfasdfasdfasdf asdfasdfasdfasdf","categories":[],"tags":[]},{"title":"好看的主题","slug":"pqg3q8","date":"2021-04-12T06:01:31.000Z","updated":"2021-04-16T03:38:51.640Z","comments":true,"path":"2021/04/12/pqg3q8/","link":"","permalink":"https://www.sbwit.com/2021/04/12/pqg3q8/","excerpt":"","text":"tags: [travis, hexo, 语雀] categories: [blog] https://github.com/litten/hexo-theme-yilia.git themes/yilia asdfasdfasdfasdfasdfasdfasdfasdfasdfsdfasdfasd","categories":[],"tags":[]},{"title":"Hexo搭建Github静态博客","slug":"ck7dgu","date":"2021-04-11T13:50:34.000Z","updated":"2021-04-16T03:38:51.637Z","comments":true,"path":"2021/04/11/ck7dgu/","link":"","permalink":"https://www.sbwit.com/2021/04/11/ck7dgu/","excerpt":"","text":"1. 环境环境1.1 安装 Git请参考【1】 1.2 安装 node.js下载：http://nodejs.org/download/可以下载 node-v0.10.33-x64.msi安装时直接保持默认配置即可。NOTE：Hexo 3.9.0 要求 nodejs 版本&gt;6.9.0 Ubuntu 下，直接执行下面的命令安装即可：sudo apt-get install nodejssudo apt-get install npm 2. 配置 Github1.1 建立 Repository建立与你用户名对应的仓库，仓库名必须为【your_user_name**.github.io**】 eg: sbwit.github.io 1.2 配置 SSH-Key参考【1】 3. 安装 Hexo关于 Hexo 的安装配置过程，请以官方 Hexo【2】给出的步骤为准。 3.1 Installation打开 Git 命令行，执行如下命令 1$ npm install -g hexo 3.2 Quick Start** 1. Setup your blog**在电脑中建立一个名字叫「Hexo」的文件夹（比如我建在了 D:\\Hexo），然后在此文件夹中右键打开 Git Bash。执行下面的命令 1234$ hexo init[info] Copying data[info] You are almost done! Don&#x27;t forget to run `npm install` before you start blogging with Hexo! Hexo 随后会自动在目标文件夹建立网站所需要的文件。然后按照提示，运行 npm install（在 /D/Hexo 下） 1npm install 会在 D:\\Hexo 目录中安装 node_modules。2. Start the server运行下面的命令（在 /D/Hexo 下） 12hexo server[info] Hexo is running at http://localhost:4000/. Press Ctrl+C to stop .表明 Hexo Server 已经启动了，在浏览器中打开 http://localhost:4000/，这时可以看到 Hexo 已为你生成了一篇 blog。你可以按 Ctrl+C 停止 Server。3. Create a new post新打开一个 git bash 命令行窗口，cd 到/D/Hexo 下，执行下面的命令$ hexo new “My New Post”[info] File created at d:\\Hexo\\source_posts\\My-New-Post.md刷新 http://localhost:4000/，可以发现已生成了一篇新文章 “My New Post”。NOTE：有一个问题，发现 “My New Post” 被发了 2 遍，在 Hexo server 所在的 git bash 窗口也能看到 create 了 2 次。$ hexo server[info] Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.[create] d:\\Hexo\\source_posts\\My-New-Post.md[create] d:\\Hexo\\source_posts\\My-New-Post.md经验证，在 hexo new “My New Post” 时，如果按 Ctrl+C 将 hexo server 停掉，就不会出现发 2 次的问题了。所以，在 hexo new 文章时，需要 stop server。4. Generate static files执行下面的命令，将 markdown 文件生成静态网页。$ hexo generate该命令执行完后，会在 D:\\Hexo\\public\\ 目录下生成一系列 html，css 等文件。5. 编辑文章hexo new “My New Post”会在 D:\\Hexo\\source_posts 目录下生成一个 markdown 文件：My-New-Post.md可以使用一个支持 markdown 语法的编辑器（比如 Sublime Text 2）来编辑该文件。6. 部署到 Github部署到 Github 前需要配置_config.yml 文件，首先找到下面的内容 DeploymentDocs: http://hexo.io/docs/deployment.htmldeploy: type:然后将它们修改为 DeploymentDocs: http://hexo.io/docs/deployment.htmldeploy: type: github repository: &#103;&#105;&#116;&#64;&#x67;&#x69;&#x74;&#104;&#117;&#98;&#46;&#x63;&#x6f;&#x6d;:zhchnchn/zhchnchn.github.io.git branch: masterNOTE1:Repository：必须是 SSH 形式的 url（&#x67;&#x69;&#116;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#x2e;&#99;&#x6f;&#109;:zhchnchn/zhchnchn.github.io.git），而不能是 HTTPS 形式的 url（https://github.com/zhchnchn/zhchnchn.github.io.git），否则会出现错误：$ hexo deploy[info] Start deploying: github[error] https://github.com/zhchnchn/zhchnchn.github.io is not a valid repositor URL!使用 SSH url，如果电脑没有开放 SSH 端口，会致部署失败。fatal: Could not read from remote repository. Please make sure you have the correct access rightsand the repository exists.NOTE2：如果你是为一个项目制作网站，那么需要把 branch 设置为 gh-pages。7. 测试当部署完成后，在浏览器中打开http://zhchnchn.github.io/（https://zhchnchn.github.io/） ，正常显示网页，表明部署成功。8. 总结：部署步骤每次部署的步骤，可按以下三步来进行。hexo cleanhexo generatehexo deploy 9. 总结：本地调试 在执行下面的命令后，$ hexo g #生成$ hexo s #启动本地服务，进行文章预览调试浏览器输入http://localhost:4000，查看搭建效果。此后的每次变更_config.yml 文件或者新建文件都可以先用此命令调试，尤其是当你想调试新添加的主题时。 可以用简化的一条命令hexo s -g","categories":[],"tags":[]},{"title":"测试","slug":"gc3dh9","date":"2021-04-11T13:50:17.000Z","updated":"2021-04-16T03:38:51.639Z","comments":true,"path":"2021/04/11/gc3dh9/","link":"","permalink":"https://www.sbwit.com/2021/04/11/gc3dh9/","excerpt":"","text":"asdfasdfasdfasdfasdfsdfasdfasdfasdfasdfasdfasdfasdfasdfasdf","categories":[],"tags":[]}],"categories":[],"tags":[]}